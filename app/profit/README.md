# ๐ ุฏููู ุญุณุงุจ ุงูุฃุฑุจุงุญ - ุตูุญุฉ ุงูุฃุฑุจุงุญ

ูุฐุง ุงูููู ูุดุฑุญ ุจุงูุชูุตูู ููููุฉ ุญุณุงุจ ุฌููุน ุงูููู ุงููุงููุฉ ูู ุตูุญุฉ ุงูุฃุฑุจุงุญ (`app/profit/page.jsx`).

---

## ๐ ุฌุฏูู ุงููุญุชููุงุช

1. [ุงููุตุงุฏุฑ ุงูุฃุณุงุณูุฉ ููุจูุงูุงุช](#ุงููุตุงุฏุฑ-ุงูุฃุณุงุณูุฉ-ููุจูุงูุงุช)
2. [ููุชุฑุฉ ุงูุชุงุฑูุฎ ูุงูุชุตููุฑ](#ููุชุฑุฉ-ุงูุชุงุฑูุฎ-ูุงูุชุตููุฑ)
3. [ุญุณุงุจ ุงูุฎุฒูุฉ (Cash Total)](#ุญุณุงุจ-ุงูุฎุฒูุฉ-cash-total)
4. [ุญุณุงุจ ุงูุฑุจุญ (Profit)](#ุญุณุงุจ-ุงูุฑุจุญ-profit)
5. [ุญุณุงุจ ุงูุฑุจุญ ุงูุฅุฌูุงูู (Gross Profit)](#ุญุณุงุจ-ุงูุฑุจุญ-ุงูุฅุฌูุงูู-gross-profit)
6. [ุญุณุงุจ ุตุงูู ุงูุฑุจุญ (Net Profit)](#ุญุณุงุจ-ุตุงูู-ุงูุฑุจุญ-net-profit)
7. [ุญุณุงุจ ุฃุฑุตุฏุฉ ุงูุดุฑูุงุก](#ุญุณุงุจ-ุฃุฑุตุฏุฉ-ุงูุดุฑูุงุก)
8. [ุงูุฎุฒูุฉ ุงูุชุดุบูููุฉ](#ุงูุฎุฒูุฉ-ุงูุชุดุบูููุฉ)
9. [ุฃูุซูุฉ ุนูููุฉ](#ุฃูุซูุฉ-ุนูููุฉ)

---

## ๐ฆ ุงููุตุงุฏุฑ ุงูุฃุณุงุณูุฉ ููุจูุงูุงุช

ุงูุตูุญุฉ ุชุนุชูุฏ ุนูู 4 ูุฌููุนุงุช ุจูุงูุงุช ุฑุฆูุณูุฉ ูู Firebase:

### 1. **`reports`** - ุงูููุงุชูุฑ
- ุชุญุชูู ุนูู ุจูุงูุงุช ุงูููุงุชูุฑ ุงููุจุงุนุฉ
- ุงูุญููู ุงููุณุชุฎุฏูุฉ:
  - `total`: ุฅุฌูุงูู ูููุฉ ุงููุงุชูุฑุฉ
  - `profit`: ุฑุจุญ ุงููุงุชูุฑุฉ
  - `createdAt` ุฃู `date`: ุชุงุฑูุฎ ุงููุงุชูุฑุฉ

### 2. **`dailyProfitData`** - ุงูุฃุฑุจุงุญ ุงูููููุฉ
- ุชุญุชูู ุนูู ููุฎุต ุงูุฃุฑุจุงุญ ุงูููููุฉ
- ุงูุญููู ุงููุณุชุฎุฏูุฉ:
  - `totalSales`: ุฅุฌูุงูู ุงููุจูุนุงุช ูู ุงูููู
  - `totalMasrofat`: ุฅุฌูุงูู ุงููุตุฑููุงุช ูู ุงูููู
  - `type`: ููุน ุงูุนูููุฉ ("ุณุฏุงุฏ" ุฃู ุบูุฑ ุฐูู)
  - `date` ุฃู `createdAt`: ุชุงุฑูุฎ ุงูููู

### 3. **`masrofat`** - ุงููุตุฑููุงุช
- ุชุญุชูู ุนูู ุณุฌู ุงููุตุฑููุงุช
- ุงูุญููู ุงููุณุชุฎุฏูุฉ:
  - `masrof`: ูููุฉ ุงููุตุฑูู
  - `reason`: ุณุจุจ ุงููุตุฑูู (ููู ูุงุณุชุจุนุงุฏ ุจุนุถ ุงููุตุฑููุงุช)
  - `date` ุฃู `createdAt`: ุชุงุฑูุฎ ุงููุตุฑูู

### 4. **`withdraws`** - ุงูุณุญูุจุงุช ูุงูุฅูุฏุงุนุงุช
- ุชุญุชูู ุนูู ุณุฌู ุงูุณุญูุจุงุช ูุงูุฅูุฏุงุนุงุช
- ุงูุญููู ุงููุณุชุฎุฏูุฉ:
  - `person`: ุงูุดุฎุต (ูุตุทููุ ุฏุจู Mุ ุฃู ุงูุฎุฒูุฉ)
  - `amount`: ุงููุจูุบ
  - `paid`: ุงููุจูุบ ุงููุฏููุน
  - `affectNetProfit`: ูู ูุคุซุฑ ุนูู ุตุงูู ุงูุฑุจุญ (true/false)
  - `date` ุฃู `createdAt`: ุชุงุฑูุฎ ุงูุนูููุฉ

---

## ๐๏ธ ููุชุฑุฉ ุงูุชุงุฑูุฎ ูุงูุชุตููุฑ

### ููุชุฑ ุงูุชุงุฑูุฎ (`dateFrom` ู `dateTo`)
- ุนูุฏ ุชุญุฏูุฏ ุชุงุฑูุฎ ูู/ุฅููุ ูุชู ููุชุฑุฉ ุงูุจูุงูุงุช ุญุณุจ ูุฐุง ุงููุทุงู
- ุฅุฐุง ูู ูุชู ุชุญุฏูุฏ ุชุงุฑูุฎุ ูุชู ุงุณุชุฎุฏุงู `resetAt` ูุชุงุฑูุฎ ุงูุจุฏุงูุฉ

### ุงูุชุตููุฑ (`resetAt`)
- `resetAt` ูู ุชุงุฑูุฎ ุขุฎุฑ ุนูููุฉ ุชุตููุฑ ููุฃุฑุจุงุญ ูุงูุฃุฑุตุฏุฉ
- ุนูุฏ ุนุฏู ูุฌูุฏ ููุชุฑ ุชุงุฑูุฎุ ุชุจุฏุฃ ุงูุญุณุงุจุงุช ูู `resetAt`
- **ููุงุญุธุฉ ูููุฉ**: ุงูุฎุฒูุฉ ูุง ุชุชุฃุซุฑ ุจุงูุชุตููุฑุ ููุท ุงูุฃุฑุจุงุญ ูุงูุฃุฑุตุฏุฉ

### ุงูููุทู:
```javascript
const isUsingDateFilter = Boolean(dateFrom || dateTo);
const effectiveFrom = isUsingDateFilter ? from : resetAt || from;
```

---

## ๐ฐ ุญุณุงุจ ุงูุฎุฒูุฉ (Cash Total)

### ุงููุจุฏุฃ ุงูุฃุณุงุณู:
**ุงูุฎุฒูุฉ = ุฅุฌูุงูู ุงููุจูุนุงุช - ุงููุตุฑููุงุช + ุงูุฅูุฏุงุนุงุช - ุงูุณุญูุจุงุช**

### ุงูุฎุทูุงุช ุงูุชูุตูููุฉ:

#### 1. ุฌูุน ุงููุจูุนุงุช ูู `dailyProfitData`
```javascript
const totalCash = dailyForCash.reduce((sum, d) => {
  const sales = Number(d.totalSales || 0);
  if (d.type === "ุณุฏุงุฏ") {
    return sum - sales;  // ุฅุฐุง ูุงู ููุน ุงูุนูููุฉ "ุณุฏุงุฏ"ุ ูุทุฑุญ ุงููุจูุบ
  }
  return sum + sales;    // ูุฅูุง ูุถูู ุงููุจูุบ
}, 0);
```

**ููุงุญุธุฉ**: ุงูุฎุฒูุฉ ุชุนุชูุฏ ููุท ุนูู ููุชุฑ ุงูุชุงุฑูุฎ (`dateFrom` ู `dateTo`) ููุง ุชุชุฃุซุฑ ุจู `resetAt`

#### 2. ุฌูุน ุงููุตุฑููุงุช
- **ูุตุฑููุงุช ูู `masrofat`**: ุฌููุน ุงููุตุฑููุงุช ูู ุงููุชุฑุฉ ุงููุญุฏุฏุฉ
- **ูุตุฑููุงุช ูู `dailyProfitData.totalMasrofat`**: ูุตุฑููุงุช ุงูููู

```javascript
const totalMasrofat = masrofatForCash.reduce(
  (sum, m) => sum + Number(m.masrof || 0),
  0
);

const totalMasrofatFromDailyForCash = dailyForCash.reduce(
  (sum, d) => sum + Number(d.totalMasrofat || 0),
  0
);
```

#### 3. ุญุณุงุจ ุงูุฎุฒูุฉ ุงูุฃูููุฉ
```javascript
let remainingCash = totalCash - totalMasrofat - totalMasrofatFromDailyForCash;
```

#### 4. ุชุทุจูู ุงูุณุญูุจุงุช/ุงูุฅูุฏุงุนุงุช
```javascript
withdrawsForCash.forEach((w) => {
  const remaining = Number(w.amount || 0) - Number(w.paid || 0);
  if (w.person === "ุงูุฎุฒูุฉ") {
    remainingCash += remaining;  // ุฅูุฏุงุน ููุฎุฒูุฉ ูุฒูุฏ ุงูุฑุตูุฏ
  } else {
    remainingCash -= remaining;   // ุณุญุจ ูู ุงูุฎุฒูุฉ ูููู ุงูุฑุตูุฏ
  }
});
```

### ุงูุตูุบุฉ ุงูููุงุฆูุฉ:
```
ุงูุฎุฒูุฉ = (ุฅุฌูุงูู ุงููุจูุนุงุช - ูุตุฑููุงุช ุงูุณุฏุงุฏ) 
       - (ูุตุฑููุงุช masrofat + ูุตุฑููุงุช dailyProfit) 
       + (ุฅูุฏุงุนุงุช ุงูุฎุฒูุฉ) 
       - (ุณุญูุจุงุช ูู ุงูุฎุฒูุฉ)
```

---

## ๐ต ุญุณุงุจ ุงูุฑุจุญ (Profit)

### ุงููุจุฏุฃ ุงูุฃุณุงุณู:
**ุงูุฑุจุญ = ูุฌููุน ุฃุฑุจุงุญ ุฌููุน ุงูููุงุชูุฑ ูู ุงููุชุฑุฉ ุงููุญุฏุฏุฉ**

### ุงูุญุณุงุจ:
```javascript
let profitValue = 0;
filteredReports.forEach((r) => {
  const reportProfit = Number(r.profit || 0);
  profitValue += reportProfit;
});
```

### ููุงุญุธุงุช:
- ูุชู ุฌูุน ุฑุจุญ ูู ูุงุชูุฑุฉ ูู `reports.profit`
- ูุชุฃุซุฑ ุจู `resetAt` (ุฅุฐุง ูู ููู ููุงู ููุชุฑ ุชุงุฑูุฎ)
- ูุชุฃุซุฑ ุจููุชุฑ ุงูุชุงุฑูุฎ (`dateFrom` ู `dateTo`)

### ุงูุตูุบุฉ:
```
ุงูุฑุจุญ = ฮฃ (ุฑุจุญ ูู ูุงุชูุฑุฉ)
```

---

## ๐ ุญุณุงุจ ุงูุฑุจุญ ุงูุฅุฌูุงูู (Gross Profit)

### ุงููุจุฏุฃ ุงูุฃุณุงุณู:
**ุงูุฑุจุญ ุงูุฅุฌูุงูู = ูุฌููุน ุฅุฌูุงูู ูููุฉ ุฌููุน ุงูููุงุชูุฑ**

### ุงูุญุณุงุจ:
```javascript
let grossProfitValue = 0;
filteredReports.forEach((r) => {
  const reportTotal = Number(r.total || 0);
  grossProfitValue += reportTotal;
});
```

### ุงููุฑู ุจูู ุงูุฑุจุญ ูุงูุฑุจุญ ุงูุฅุฌูุงูู:
- **ุงูุฑุจุญ ุงูุฅุฌูุงูู**: ุฅุฌูุงูู ูููุฉ ุงููุจูุนุงุช (ูุจู ุฎุตู ุงูุชูููุฉ)
- **ุงูุฑุจุญ**: ุงูุฑุจุญ ุงููุนูู ุจุนุฏ ุฎุตู ุงูุชูููุฉ

### ุงูุตูุบุฉ:
```
ุงูุฑุจุญ ุงูุฅุฌูุงูู = ฮฃ (ุฅุฌูุงูู ูููุฉ ูู ูุงุชูุฑุฉ)
```

---

## ๐ฏ ุญุณุงุจ ุตุงูู ุงูุฑุจุญ (Net Profit)

### ุงููุจุฏุฃ ุงูุฃุณุงุณู:
**ุตุงูู ุงูุฑุจุญ = ุงูุฑุจุญ - ุงููุตุฑููุงุช - ุงูุณุญูุจุงุช ุงููุคุซุฑุฉ**

### ุงูุฎุทูุงุช ุงูุชูุตูููุฉ:

#### 1. ุญุณุงุจ ุงููุตุฑููุงุช (ุจุฏูู ูุงุชูุฑุฉ ูุฑุชุฌุน ููุตุฑูู ุณุฏุงุฏ)
```javascript
const totalMasrofatWithoutReturn = filteredMasrofatForProfit.reduce((sum, m) => {
  // ุงุณุชุจุนุงุฏ ุงููุตุฑููุงุช ุงูุชู ุณุจุจูุง "ูุงุชูุฑุฉ ูุฑุชุฌุน" ุฃู "ูุตุฑูู ุณุฏุงุฏ"
  if (m.reason === "ูุงุชูุฑุฉ ูุฑุชุฌุน" || m.reason === "ูุตุฑูู ุณุฏุงุฏ") {
    return sum;
  }
  return sum + Number(m.masrof || 0);
}, 0);
```

**ููุงุฐุง ุงูุงุณุชุจุนุงุฏุ**
- ูุงุชูุฑุฉ ูุฑุชุฌุน: ูุง ุชุนุชุจุฑ ูุตุฑูู ุญููููุ ุจู ุงุณุชุฑุฌุงุน ููุจุถุงุนุฉ
- ูุตุฑูู ุณุฏุงุฏ: ุชู ุญุณุงุจู ุจุงููุนู ูู ุงูุฎุฒูุฉ

#### 2. ุฌูุน ูุตุฑููุงุช `dailyProfitData`
```javascript
const totalMasrofatFromDailyForProfit = dailyForProfit.reduce(
  (sum, d) => sum + Number(d.totalMasrofat || 0),
  0
);
```

#### 3. ุญุณุงุจ ุงูุณุญูุจุงุช ุงูุชู ุชุคุซุฑ ุนูู ุตุงูู ุงูุฑุจุญ
```javascript
const withdrawsAffectingNetProfit = withdrawsForProfit.filter((w) => {
  return w.affectNetProfit === true && w.person !== "ุงูุฎุฒูุฉ";
});

const totalWithdrawsAffectingNetProfit = withdrawsAffectingNetProfit.reduce(
  (sum, w) => {
    const remaining = Number(w.amount || 0) - Number(w.paid || 0);
    return sum + remaining;
  },
  0
);
```

**ููุงุญุธุฉ**: ููุท ุงูุณุญูุจุงุช ุงูุชู ููุง `affectNetProfit === true` ุชุคุซุฑ ุนูู ุตุงูู ุงูุฑุจุญ

#### 4. ุญุณุงุจ ุตุงูู ุงูุฑุจุญ ุงูููุงุฆู
```javascript
const netProfitValue =
  profitValue 
  - totalMasrofatWithoutReturn 
  - totalMasrofatFromDailyForProfit 
  - totalWithdrawsAffectingNetProfit;
```

### ุงูุตูุบุฉ ุงูููุงุฆูุฉ:
```
ุตุงูู ุงูุฑุจุญ = ุงูุฑุจุญ 
            - (ูุตุฑููุงุช masrofat ุจุฏูู ูุงุชูุฑุฉ ูุฑุชุฌุน ููุตุฑูู ุณุฏุงุฏ)
            - (ูุตุฑููุงุช dailyProfit)
            - (ุงูุณุญูุจุงุช ุงูุชู affectNetProfit = true)
```

---

## ๐ฅ ุญุณุงุจ ุฃุฑุตุฏุฉ ุงูุดุฑูุงุก

### ุงููุจุฏุฃ ุงูุฃุณุงุณู:
**ุฑุตูุฏ ุงูุดุฑูู = ูุฌููุน ุงูุณุญูุจุงุช ุงููุชุจููุฉ (ุบูุฑ ุงููุฏููุนุฉ) ููุดุฑูู**

### ุงูุญุณุงุจ:
```javascript
let mostafaSum = 0;
let doubleMSum = 0;

withdrawsForProfit.forEach((w) => {
  const remaining = Number(w.amount || 0) - Number(w.paid || 0);
  if (w.person === "ูุตุทูู") mostafaSum += remaining;
  if (w.person === "ุฏุจู M") doubleMSum += remaining;
});
```

### ููุงุญุธุงุช:
- ูุชู ุญุณุงุจ ุงููุจูุบ ุงููุชุจูู = `amount - paid`
- ูุชุฃุซุฑ ุจู `resetAt` (ุฅุฐุง ูู ููู ููุงู ููุชุฑ ุชุงุฑูุฎ)
- ูุชุฃุซุฑ ุจููุชุฑ ุงูุชุงุฑูุฎ

### ุงูุตูุบุฉ:
```
ุฑุตูุฏ ุงูุดุฑูู = ฮฃ (ุงููุจูุบ ุงููุชุจูู ูู ูู ุณุญุจ ููุดุฑูู)
ุงููุจูุบ ุงููุชุจูู = amount - paid
```

---

## ๐ฆ ุงูุฎุฒูุฉ ุงูุชุดุบูููุฉ (Operational Cash Total)

### ุงููุจุฏุฃ ุงูุฃุณุงุณู:
**ุงูุฎุฒูุฉ ุงูุชุดุบูููุฉ = ุงูุฎุฒูุฉ ุงูุฅุฌูุงููุฉ ูู ุจุฏุงูุฉ ุงููุธุงู (ุจุฏูู ุฃู ููุงุชุฑ)**

### ุงูุญุณุงุจ:
```javascript
const operationalFrom = new Date("1970-01-01");
const operationalTo = new Date();

// ุญุณุงุจ ุงูุฎุฒูุฉ ูู ุจุฏุงูุฉ ุงููุธุงู
const operationalTotalCash = operationalDailyForCash.reduce((sum, d) => {
  const sales = Number(d.totalSales || 0);
  if (d.type === "ุณุฏุงุฏ") {
    return sum - sales;
  }
  return sum + sales;
}, 0);

const operationalRemainingCash =
  operationalTotalCash - operationalTotalMasrofatCombined;
```

### ุงููุฑู ุจูู ุงูุฎุฒูุฉ ูุงูุฎุฒูุฉ ุงูุชุดุบูููุฉ:
- **ุงูุฎุฒูุฉ**: ุชุนุชูุฏ ุนูู ููุชุฑ ุงูุชุงุฑูุฎ ุงููุญุฏุฏ
- **ุงูุฎุฒูุฉ ุงูุชุดุบูููุฉ**: ูู ุจุฏุงูุฉ ุงููุธุงู ุญุชู ุงูุขู (ุจุฏูู ููุงุชุฑ)

---

## ๐ ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ุญุณุงุจ ุงูุฎุฒูุฉ

**ุงูุจูุงูุงุช:**
- ูุจูุนุงุช ุงูููู: 5000 ุฌููู
- ูุตุฑููุงุช ุงูููู: 500 ุฌููู
- ุณุญุจ ูู ุงูุฎุฒูุฉ ููุตุทูู: 1000 ุฌููู
- ุฅูุฏุงุน ููุฎุฒูุฉ: 2000 ุฌููู

**ุงูุญุณุงุจ:**
```
ุงูุฎุฒูุฉ = 5000 - 500 - 1000 + 2000 = 5500 ุฌููู
```

### ูุซุงู 2: ุญุณุงุจ ุตุงูู ุงูุฑุจุญ

**ุงูุจูุงูุงุช:**
- ุฑุจุญ ุงูููุงุชูุฑ: 3000 ุฌููู
- ูุตุฑููุงุช (ุจุฏูู ูุฑุชุฌุน): 500 ุฌููู
- ูุตุฑููุงุช dailyProfit: 200 ุฌููู
- ุณุญุจ ููุตุทูู (affectNetProfit = true): 1000 ุฌููู

**ุงูุญุณุงุจ:**
```
ุตุงูู ุงูุฑุจุญ = 3000 - 500 - 200 - 1000 = 1300 ุฌููู
```

### ูุซุงู 3: ุชุฃุซูุฑ ุงูุชุตููุฑ

**ูุจู ุงูุชุตููุฑ:**
- ุฑุจุญ ูู 1 ููุงูุฑ: 5000 ุฌููู
- ุฑุตูุฏ ูุตุทูู: 2000 ุฌููู

**ุจุนุฏ ุงูุชุตููุฑ ูู 15 ููุงูุฑ:**
- ุฑุจุญ ูู 15 ููุงูุฑ: 3000 ุฌููู (ููุท ูู ุจุนุฏ ุงูุชุตููุฑ)
- ุฑุตูุฏ ูุตุทูู: 1000 ุฌููู (ููุท ุงูุณุญูุจุงุช ูู ุจุนุฏ ุงูุชุตููุฑ)

**ููุงุญุธุฉ**: ุงูุฎุฒูุฉ ูุง ุชุชุฃุซุฑ ุจุงูุชุตููุฑุ ุชุจูู ููุง ูู

---

## ๐ ุงูุนูููุงุช ุงููุชุงุญุฉ ูู ุงูุตูุญุฉ

### 1. **ุงูุณุญุจ (Withdraw)**
- ุณุญุจ ูุจูุบ ูุดุฑูู (ูุตุทูู ุฃู ุฏุจู M)
- ูููู ุชุญุฏูุฏ ุฅุฐุง ูุงู ูุคุซุฑ ุนูู ุตุงูู ุงูุฑุจุญ
- ูููู ูู ุฑุตูุฏ ุงูุฎุฒูุฉ

### 2. **ุฅุถุงูุฉ ููุฎุฒูุฉ (Add Cash)**
- ุฅุถุงูุฉ ูุจูุบ ููุฎุฒูุฉ
- ูุฒูุฏ ูู ุฑุตูุฏ ุงูุฎุฒูุฉ

### 3. **ุงูุณุฏุงุฏ (Pay)**
- ุณุฏุงุฏ ุฌุฒุก ูู ุงูุณุญุจ ุงููุชุจูู
- ูููู ูู ุฑุตูุฏ ุงูุดุฑูู ุงููุชุจูู

### 4. **ุญุฐู ุงูุณุญุจ**
- ุญุฐู ุณุญุจ (ููุท ุฅุฐุง ูุงู ุงููุชุจูู > 0)

### 5. **ุชุตููุฑ ุงูุฃุฑุจุงุญ**
- ุชุตููุฑ ุงูุฃุฑุจุงุญ ูุงูุฃุฑุตุฏุฉ ูู ุชุงุฑูุฎ ูุนูู
- ูุง ูุคุซุฑ ุนูู ุงูุฎุฒูุฉ

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฎุฒูุฉ ูุง ุชุชุฃุซุฑ ุจุงูุชุตููุฑ**: ุงูุฎุฒูุฉ ุชุนุชูุฏ ููุท ุนูู ููุชุฑ ุงูุชุงุฑูุฎ
2. **ุงูุฃุฑุจุงุญ ูุงูุฃุฑุตุฏุฉ ุชุชุฃุซุฑ ุจุงูุชุตููุฑ**: ุนูุฏ ุนุฏู ูุฌูุฏ ููุชุฑ ุชุงุฑูุฎุ ุชุจุฏุฃ ูู `resetAt`
3. **ุงููุตุฑููุงุช ุงููุณุชุจุนุฏุฉ**: ูุงุชูุฑุฉ ูุฑุชุฌุน ููุตุฑูู ุณุฏุงุฏ ูุง ุชุคุซุฑ ุนูู ุตุงูู ุงูุฑุจุญ
4. **ุงูุณุญูุจุงุช ุงููุคุซุฑุฉ**: ููุท ุงูุณุญูุจุงุช ุงูุชู `affectNetProfit = true` ุชุคุซุฑ ุนูู ุตุงูู ุงูุฑุจุญ
5. **ุงูุชุฑุชูุจ ุงูุฒููู**: ูุชู ุงุณุชุฎุฏุงู `createdAt` ุจุฏูุงู ูู `date` ุนูุฏ ุงูุญุงุฌุฉ ููุฏูุฉ ุงูุฒูููุฉ

---

## ๐ ููุฎุต ุงูุตูุบ

| ุงููููุฉ | ุงูุตูุบุฉ |
|--------|--------|
| **ุงูุฎุฒูุฉ** | `(ุงููุจูุนุงุช - ูุตุฑููุงุช ุงูุณุฏุงุฏ) - (ูุตุฑููุงุช masrofat + dailyProfit) + ุฅูุฏุงุนุงุช - ุณุญูุจุงุช` |
| **ุงูุฑุจุญ** | `ฮฃ (ุฑุจุญ ูู ูุงุชูุฑุฉ)` |
| **ุงูุฑุจุญ ุงูุฅุฌูุงูู** | `ฮฃ (ุฅุฌูุงูู ูููุฉ ูู ูุงุชูุฑุฉ)` |
| **ุตุงูู ุงูุฑุจุญ** | `ุงูุฑุจุญ - ูุตุฑููุงุช (ุจุฏูู ูุฑุชุฌุน/ุณุฏุงุฏ) - ูุตุฑููุงุช dailyProfit - ุณุญูุจุงุช ูุคุซุฑุฉ` |
| **ุฑุตูุฏ ุงูุดุฑูู** | `ฮฃ (ุงููุจูุบ ุงููุชุจูู ูู ูู ุณุญุจ)` |

---

ุชู ุฅูุดุงุก ูุฐุง ุงูููู ุจูุงุณุทุฉ Auto - Cursor AI Assistant

